# Sentrix Project - Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# PORT CONFIGURATION
# =============================================================================
BACKEND_PORT=8000
YOLO_SERVICE_PORT=8001
FRONTEND_PORT=3000

# Service URLs (automatically constructed from ports above)
BACKEND_URL=http://localhost:${BACKEND_PORT}
YOLO_SERVICE_URL=http://localhost:${YOLO_SERVICE_PORT}
FRONTEND_URL=http://localhost:${FRONTEND_PORT}

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/sentrix
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_RECYCLE=300

# Supabase Configuration
SUPABASE_URL=your_supabase_project_url
SUPABASE_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
SUPABASE_JWT_SECRET=your_jwt_secret

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
SECRET_KEY=your-super-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# YOLO SERVICE CONFIGURATION
# =============================================================================
# Model settings
YOLO_MODEL_PATH=models/best.pt
YOLO_CONFIDENCE_THRESHOLD=0.5
YOLO_DEVICE=auto
YOLO_BATCH_SIZE=10
YOLO_MAX_DETECTIONS=100

# Performance settings
YOLO_TIMEOUT_SECONDS=60
YOLO_MAX_RETRIES=3
YOLO_MAX_CONCURRENT_REQUESTS=5

# =============================================================================
# FILE HANDLING
# =============================================================================
MAX_FILE_SIZE_MB=50
UPLOAD_DIRECTORY=./uploads
TEMP_DIRECTORY=./temp
CLEANUP_TEMP_FILES=true
TEMP_FILE_RETENTION_HOURS=24

# Supported image formats
ALLOWED_EXTENSIONS=.jpg,.jpeg,.png,.tiff,.bmp,.heic,.heif,.webp

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=detailed
LOG_FILE_BACKEND=./logs/backend.log
LOG_FILE_YOLO=./logs/yolo-service.log
LOG_FILE_SHARED=./logs/shared.log

# Log rotation
LOG_MAX_FILE_SIZE_MB=10
LOG_BACKUP_COUNT=5

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000
ALLOW_CREDENTIALS=true
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_TTL=3600

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=development
DEBUG=true
TESTING=false

# Development settings
RELOAD_ON_CHANGE=true
SHOW_DOCS=true

# Production settings (uncomment for production)
# ENVIRONMENT=production
# DEBUG=false
# RELOAD_ON_CHANGE=false
# SHOW_DOCS=false

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Google Maps API (for GPS link generation)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# Email service (for notifications)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# =============================================================================
# MONITORING AND ANALYTICS
# =============================================================================
# Enable performance monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry for error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_GPS_EXTRACTION=true
ENABLE_CAMERA_METADATA=true
ENABLE_BATCH_PROCESSING=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHING=true